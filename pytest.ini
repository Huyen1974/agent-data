[pytest]
asyncio_mode = auto
asyncio_default_fixture_loop_scope = function
testpaths = tests
pythonpath = src ADK
norecursedirs = .* build dist CVS _darcs {arch} *.egg venv env
addopts = --strict-markers --cache-clear --randomly-seed=1234 --reruns 3 --reruns-delay 1
env = 
    QDRANT_MOCK=1
    FIRESTORE_MOCK=1
    GOOGLE_CLOUD_MOCK=1
    OPENAI_MOCK=1
    REQUESTS_MOCK=1
    SHADOW_TRAFFIC_MOCK=1
    DISABLE_REAL_SERVICES=1
    PYTEST_CURRENT_TEST=1
markers =
    unit: Fast, isolated tests with minimal dependencies
    slow: Slow tests (e.g., API, database, >10s execution)
    integration: Integration tests requiring external services
    e2e: End-to-end pipeline tests
    mock: Tests using mocked dependencies
    network: Tests requiring network connectivity
filterwarnings =
    ignore:builtin type SwigPyPacked has no __module__ attribute:DeprecationWarning
    ignore:builtin type SwigPyObject has no __module__ attribute:DeprecationWarning
    ignore:builtin type swigvarlink has no __module__ attribute:DeprecationWarning
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::UserWarning
