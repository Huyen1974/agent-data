import sys
import json
import logging
import time
import inspect
# Ensure parent directory (ADK/agent_data) is in path if run directly
import os
sys.path.insert(0, os.path.abspath(os.path.join(os.path.dirname(__file__), '..')))

import mcp

# Configure logging
logging.basicConfig(level=logging.INFO, format='%(asctime)s - %(levelname)s - %(message)s')
logger = logging.getLogger(__name__)

# Import necessary components using relative paths
try:
    from tools.echo_tool import echo
    from tools.save_text_tool import save_text
    from tools.add_numbers_tool import add_numbers
    from tools.get_registered_tools_tool import get_registered_tools
    from tools.register_tools import get_all_tool_functions # Use the new helper
except ImportError as e:
    logger.error(f"Failed to import tools using relative paths: {e}", exc_info=True)
    sys.exit(1)

# --- Tool Registration ---
# Use the helper function to get all available tools
# This dictionary holds {tool_name: function_object}
ALL_TOOLS = get_all_tool_functions()
