# Global Git Sync Policy - ADK/Agent_Data Project

## 🔄 Automatic Git Synchronization Policy

**📌 This project follows an automatic Git sync policy: pull before any change, push after every update.**

### Core Git Workflow Rules

#### 🔽 Pre-Task Synchronization (MANDATORY)
**Before ANY Cursor CLI task, code edit, or operation:**

```powershell
git pull origin main
```

**Purpose:**
- Ensure local workspace has the latest changes from GitHub
- Prevent merge conflicts before they occur
- Maintain consistency across PC and MacBook environments

#### 🔼 Post-Task Synchronization (MANDATORY)
**After ANY Cursor CLI task, code edit, or operation completes:**

```powershell
git add .
git commit -m "<auto-generated message with timestamp>"
git push origin main
```

**Purpose:**
- Automatically stage all changes
- Create timestamped commits for full audit trail
- Immediately sync changes to GitHub for cross-device access

### 🤖 Automation Behavior

This policy is **AUTOMATED** and **REQUIRES NO USER CONFIRMATION**:

✅ **Auto-Pull:** Every task begins with `git pull`
✅ **Auto-Commit:** Every task ends with staged commit
✅ **Auto-Push:** Every commit is immediately pushed to GitHub
✅ **Auto-Message:** Commits include timestamp and context
✅ **Error Handling:** Failed operations are logged and reported

### 📝 Commit Message Format

```
Auto-sync from PC - [TASK_TYPE] - YYYY-MM-DD HH:mm:ss
```

Examples:
- `Auto-sync from PC - CLI_EXECUTION - 2024-01-15 14:30:22`
- `Auto-sync from PC - CODE_EDIT - 2024-01-15 14:35:18`
- `Auto-sync from PC - TEST_RUN - 2024-01-15 14:40:55`

### 🚨 Conflict Resolution

If `git pull` encounters conflicts:
1. **Automatic stash:** `git stash push -m "Auto-stash before sync"`
2. **Force pull:** `git pull origin main`
3. **Reapply changes:** `git stash pop`
4. **Log conflicts:** Record in `.cursor/cursor_git_policy_log.log`

### 🎯 Repository Information

**Target Repository:** https://github.com/Huyen1974/agent-data
**Primary Branch:** main
**Local Path:** `D:\Manual_Deploy\mpc_back_end_for_agent\ADK\agent_data`

### ⚡ Implementation Notes

**For Cursor IDE:**
- This policy applies to ALL CLI prompts in this project
- No manual Git operations required
- Transparent operation - user sees results only
- Persistent across IDE restarts and session changes

**For Developers:**
- Work normally - Git sync happens automatically
- Check `.cursor/cursor_git_policy_log.log` for sync history
- All changes are immediately available on other devices
- No need to remember manual Git commands

### 🔒 Policy Persistence

This policy remains active until explicitly modified:
- ✅ Survives IDE restarts
- ✅ Applies to all future CLI operations
- ✅ Works across different terminal sessions
- ✅ Maintains consistency across team members

### 📊 Monitoring

All Git sync operations are logged to:
**Log File:** `.cursor/cursor_git_policy_log.log`

**Log Format:**
```
[TIMESTAMP] [OPERATION] [STATUS] - Description
```

### 🔧 Emergency Override

To temporarily disable auto-sync (use sparingly):
```powershell
# Create temporary override file
echo "OVERRIDE_ACTIVE" > .cursor/.git_sync_override
```

To re-enable:
```powershell
# Remove override file
Remove-Item .cursor/.git_sync_override
```

---

**⚠️ IMPORTANT:** This is a GLOBAL policy for the ADK/agent_data project. All Cursor CLI operations will automatically follow this Git sync workflow without requiring user confirmation or intervention.

**🔄 Cross-Platform Sync:** This policy ensures seamless synchronization between PC and MacBook environments through GitHub, eliminating version conflicts and manual Git management.

**📅 Policy Established:** 2024-01-15
**📍 Scope:** D:\Manual_Deploy\mpc_back_end_for_agent\ADK\agent_data
**🎯 Status:** ACTIVE - Auto-Run Enabled 